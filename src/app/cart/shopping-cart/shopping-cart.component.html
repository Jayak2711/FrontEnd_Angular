
<div class="row" style="zoom:0.8 !important;margin: 10px;">
  <h3>Shopping Cart</h3>
  <div>
    <button (click)="clearCart()" class="btn btn-danger btn-sm me-2">Clear cart</button>
    <button  (click)="placeOrderFinal()"
      class="btn btn-success btn-sm me-2">Proceed to order</button>
      <div>
        <strong>Total Price: {{ calculateTotalPrice | currency:'INR' }}</strong>
      </div>
  </div>
  <!-- <div>
    <div>
      <button (click)="clearCart()" class="btn btn-danger btn-sm me-2">Clear cart</button>
      <button  (click)="placeOrderFinal()"
        class="btn btn-success btn-sm me-2">Proceed to order</button>
    </div>
    <div>
      <strong>Total Price: {{ calculateTotalPrice | currency:'INR' }}</strong>
    </div>
    <div *ngIf="cartItems.length > 0" class="row">
      <div class="card col-md-3" style="width:13rem;margin-left:10px;background-color:#7d9dc740" *ngFor="let item of cartItems;let i = index">
        <div class="form-check" >
          <input class="form-check-input" type="checkbox"  [(ngModel)]="item.checked"  id="flexCheckDefault"   style="border:1px solid black;"
          (change)="handleSelected($event,item)">
        </div>
        <div class="card-body">
          <p class="card-text">Product Name: {{item.name}}</p>
          <p class="card-text">Product Quantity: {{ item.quantity }}</p>
          <p class="card-text">Product Price: {{ item.price | currency:'INR' }}</p>
          <p class="card-text">Total Price: {{ item.totalAmount * item.quantity | currency:'INR' }}</p>
           <div class="flex-container">
            <div>
              <i class="fa fa-minus-square" aria-hidden="true" (click)="decreaseQuantity(item,i)"></i>
              <span style="padding-left: 5px;padding-right: 5px;">{{item.quantity}}</span>
              <i class="fa fa-plus-square" aria-hidden="true" (click)="increaseQuantity(item,i)"></i>
            </div>
            <div style="margin-left: 10px;">
              <i class="fa fa-trash" aria-hidden="true" (click)="deleteCart(item)"></i>
            </div>
           </div>
        </div>
      </div>
    </div>
 
    
  </div> -->

  <div class="container" style="margin-top: 10px;">
    <div class="row">
        <!-- Cart Item Card -->
        <div class="col-md-3" *ngFor="let item of cartItems;let i = index">
            <div class="card card-custom">
                <!-- <img src="https://via.placeholder.com/150" class="card-img-top card-img" alt="Product Image"> -->
                <!-- <div class="form-check" >
                  <input class="form-check-input" type="checkbox"  [(ngModel)]="item.checked"  id="flexCheckDefault"   style="border:1px solid black;"
                  (change)="handleSelected($event,item)">
                </div> -->
                <mat-checkbox class="custom-checkbox" [(ngModel)]="item.checked"  (change)="handleSelected($event,item)"></mat-checkbox>
                <div class="card-body">
                    <h5 class="card-title">{{item.name}}</h5>
                    <p class="card-text description">{{item.description}}</p>
                    <div class="d-flex justify-content-between">
                        <span class="font-weight-bold">Price: {{ item.price | currency:'INR' }}</span>
                        <div>
                          <i class="fa fa-minus-square" aria-hidden="true" (click)="decreaseQuantity(item,i)"></i>
                          <span style="padding-left: 5px;padding-right: 5px;">{{item.quantity}}</span>
                          <i class="fa fa-plus-square" aria-hidden="true" (click)="increaseQuantity(item,i)"></i>
                        </div>
                    </div>
                </div>
                <div class="card-footer d-flex justify-content-between align-items-center">
                    <span class="font-weight-bold">Total: {{item.price * item.quantity | currency:'INR' }}</span>
                    <button class="btn btn-danger btn-sm" (click)="deleteCart(item)">Remove</button>
                </div>
            </div>
        </div>
        <!-- Repeat for more cart items -->
    </div>
  </div>
<div *ngIf="cartItems.length === 0">
  <p>Your cart is empty</p>
</div>
</div>

<app-loader [isLoading]="loading"></app-loader>
